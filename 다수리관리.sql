SELECT * FROM EMPLOYEE;

INSERT INTO EMPLOYEE (EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY)
    VALUES ('21002', '김다수', '대전광역시 서구 용문동', '010-5411-1234', 5500000);
INSERT INTO EMPLOYEE (EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY)
    VALUES ('21020', '김수리', '대전광역시 서구 탄방동', '010-1616-1111', 4600000);    
   
INSERT INTO CUSTOMER (CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO)
    VALUES ('22001', '박민주', '대전광역시 중구 용두동', '010-4032-2635');
INSERT INTO CUSTOMER (CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO)
    VALUES ('22002', '김영희', '대전광역시 중구 중촌동', '010-2222-3333');   
    
INSERT INTO CAR (CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO)
    VALUES ('47부4943', '현대', '202006', 40000, '22001');
INSERT INTO CAR (CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO)
    VALUES ('51바1234', '기아', '210101', 100000, '22002'); 
       
        
INSERT INTO SERVICE (EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO)
    VALUES ('21002', '47부4943', '230309001', 3, 500000, '22001');
INSERT INTO SERVICE (EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO)
    VALUES ('21020', '51바1234', '230309002', 5, 10000000, '22002');
    
----------------------------------

INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A001', '강서주', '세종시 다정남로 22', '010-8317-9503', 3000000);
INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A002', '임석일', '대전시 중구 계룡로 110', '010-4564-1546', 2700000);
INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A003', '곽재우', '세종시 집현중앙로 17', '010-1115-9546', 3000000);
INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A004', '이미지', '대전시 서구 관저북로 20', '010-6875-4563', 3300000);
INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A005', '김수지', '대전시 동구 동서대로 1638번길', '010-4555-4785', 3100000);
INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A006', '윤하늘', '대전시 가양남로 33번길', '010-6464-9243', 3000000);
INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A007', '조수인', '대전시 동대전로 171', '010-2347-5526', 3100000);
INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A008', '임민우', '대전시 우암로 139', '010-7767-9566', 2700000);
INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A009', '강서준', '대전시 대학로 62', '010-2346-6455', 3000000);
INSERT INTO EMPLOYEE(EMP_NO, EMP_NAME, EMP_ADDRESS, EMP_TELNO, EMP_SALARY) VALUES('A010', '이경민', '세종시 새롬중앙로 18', '010-5656-3453', 3000000);
insert into employee values('71301','양돌팔','대전광역시 서구 한밭대로 굴다리밑','010-1234-5678',2800000);
insert into employee values('71302','김용팔','대전광역시 동구 오월드 개찰구 옆','010-1234-4987',2200000);

insert into customer values('30127','이진상','충청남도 옥천군 대전경계선쯤','010-7878-5678');
insert into customer values('30128','차진상','충청남도 논산시 논산톨게이트옆','010-8787-9787');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C001', '김승종', '대전시 남경마을로 3', '010-4445-3443');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C002', '최서연', '대전시 대전로 1118 ', '010-4449-1534');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C003', '김선민', '대전시 대화 9길', '010-5659-1234');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C004', '이혜진', '대전시 덕암북로 4 ', '010-4659-1244');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C005', '이송무', '대전시 석봉로 44', '010-7539-1774');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C006', '신진수', '대전시 신탄진동로 36', '010-2349-1755');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C007', '이소연', '대전시 오정로 100', '010-7779-1674');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C008', '서예린', '대전시 회덕로 21', '010-4459-6564');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C009', '정은비', '대전시 가수원로 65', '010-8689-6774');
INSERT INTO CUSTOMER(CST_NO, CST_NAME, CST_ADDRESS, CST_TELNO) VALUES('C010', '이현학', '대전시 괴정로 8', '010-4559-1224');


INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('113서9441', '쉐보레', '2016', 62051, 'C001');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('123두2341', '현대', '2009', 220135, 'C002');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('154가9651', '쌍용', '2011', 197562, 'C003');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('222나9651', '현대', '2016', 82051, 'C004');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('134누9963', '기아', '2021', 20083, 'C005');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('231라9124', '기아', '2010', 153251, 'C006');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('177로2631', '포드', '2019', 62051, 'C007');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('211머6574', '르노', '2017', 92235, 'C008');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('146구2116', '현대', '2011', 133453, 'C009');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('155하3541', '쉐보레', '2014', 91052, 'C010');

INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('155호3542', '쉐보레', '2014', 90000, 'C007');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('152고3542', '기아', '2016', 120000, 'C007');
INSERT INTO CAR(CAR_NO, CAR_MAKER, CAR_YEAR, CAR_DRIVING, CST_NO) VALUES('151오3151', '현대', '2019', 90000, 'C007');

INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A001', '113서9441', '2302S00001', 11, 900000, 'C001');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A002', '123두2341', '2302S00002', 5, 150000, 'C002');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A002', '154가9651', '2305S00003', 3, 120000, 'C003');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A003', '222나9651', '2305S00004', 5, 310000, 'C004');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A006', '134누9963', '2305S00005', 10, 450000, 'C005');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A006', '231라9124', '2103S00006', 7, 350000, 'C006');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A002', '177로2631', '2112S00007', 6, 300000, 'C007');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A007', '211머6574', '2203S00008', 3, 150000, 'C008');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A008', '146구2116', '2208S00009', 1, 80000, 'C009');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A010', '155하3541', '2304S00010', 2, 60000, 'C010');

INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A002', '155호3542', '2112S00616', 6, 350000, 'C007'); --프라이머리키 위배?
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A002', '152고3542', '2112S08282', 6, 700000, 'C007');
INSERT INTO SERVICE(EMP_NO, CAR_NO, SVC_NO, SVC_TIME, SVC_PRICE, CST_NO) VALUES('A002', '151오3151', '2112S18181', 6, 1000000, 'C007');

DESC CAR
DESC CUSTOMER
DESC EMPLOYEE
DESC SERVICE

SELECT * FROM EMPLOYEE;
SELECT* FROM CUSTOMER;
SELECT * FROM CAR;

--1.월급이 250만원과 300만원 사이인 직원의 이름, 주소, 연락처를 출력하여라.
SELECT EMP_NAME 이름, EMP_ADDRESS 주소, EMP_TELNO 연락처, EMP_SALARY 급여 
    FROM EMPLOYEE
    WHERE EMP_SALARY >2500000 AND EMP_SALARY<3000000;
--    WHERE EMP_SALARY BETWEEN 2500000 AND 3000000; (이상 , 이하일 때 BETWEEN A AND B 사용)
    
--2. 다음 직원의 월급을 수정하시오
-- 임민우 월급 2400000
--곽재우 월급 3200000
--윤하늘 월급 2600000
--강서주 월급 4000000
--이경민 월급 2300000

UPDATE EMPLOYEE
    SET EMP_SALARY = 2400000 --UPDATE 테이블 이름 SET 수정될 사항 
    WHERE EMP_NAME = '임민우';
    --WHERE EMP_NO = 'A008;
    
UPDATE EMPLOYEE
SET EMP_SALARY = 3200000 
WHERE EMP_NAME = '곽재우';

UPDATE EMPLOYEE
SET EMP_SALARY = 2600000 
WHERE EMP_NAME = '윤하늘';

UPDATE EMPLOYEE
SET EMP_SALARY = 4000000 
WHERE EMP_NAME = '강서주';

UPDATE EMPLOYEE
SET EMP_SALARY = 2300000 
WHERE EMP_NAME = '이경민';

--3. 고객 'C007'이 수리를 요청한 목록을 수리비를 내림차순으로 출력하라.
-- 데이터가 2개 이상 조회되도록 데이터를 삽입하시오.

--SELECT CST_NO 고객번호, SVC_NO 서비스번호, SVC_PRICE 수리비용
  --  FROM SERVICE
    --WHERE CST_NO = 'C007';
    
--테이블끼리 연결할 경우--    
SELECT B.CST_NO 고객번호, B.CST_NAME 고객명, A.SVC_NO 서비스번호, A.SVC_PRICE 수리비용
    FROM SERVICE A, CUSTOMER B --서비스는 A. 커스터머는 B  
    WHERE B.CST_NO= 'C007' AND A.CST_NO = B.CST_NO
    ORDER BY A.SVC_PRICE DESC;

--4. 카센터의 직원수와 직원의 평균급여를 출력하라.
SELECT COUNT(EMP_NO) 직원수, ROUND(AVG(EMP_SALARY),-2) 평균급여 --* 총 레코드수 -- 양수 둘째자리에서 반올림 (-2)
    FROM EMPLOYEE;